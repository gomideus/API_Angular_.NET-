<div class="mat-elevation-z8" *ngIf="visibilidadeFormulario" id="form1">
  <h1>{{tituloFormulario}}</h1>
  <form [formGroup]="formulario" *ngIf="formulario" id="form1">

    <mat-form-field appearance="fill">
    <input type="text" matInput placeholder="Nome" formControlName="name">
    </mat-form-field>
    <br>

    <mat-form-field appearance="fill">
    <input type="text" matInput placeholder="Cpf" formControlName="cpf"  mask="000-000-000.00">
    </mat-form-field>
    <br>

    <mat-form-field appearance="fill">
    <input type="text" matInput placeholder="Email"  pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" formControlName="email">
    </mat-form-field>
    <br>

    <mat-form-field appearance="fill">
      <mat-label>Tipo de usuário</mat-label>
      <select matNativeControl required formControlName="userType">
        <option value="Normal">Normal</option>
        <option value="Financeiro">Financeiro</option>
        <option value="Administrador">Administrador</option>
      </select>
    </mat-form-field>
    <br>

    <button mat-raised-button (click)="Voltar()" color="accent"  class="buttons">Voltar</button>
    <button mat-raised-button (click)="enviarFormulario()" color="primary" class="buttons">Enviar</button>
  </form>
</div>

<div class="tabelaData" *ngIf="visibilidadeTabela">
  <br><br><br>
  <button mat-raised-button (click)="exibirFormulario(-1)" style="margin-left: 1%;">Novo Usuario</button>
  <br>
  
  <table mat-table [dataSource]="usuarios" class="mat-elevation-z8" *ngIf="usuarios">
      
    <ng-container matColumnDef="userid">
      <th mat-header-cell *matHeaderCellDef> ID </th>
      <td mat-cell *matCellDef="let usuario"> {{usuario.userID}} </td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> name </th>
      <td mat-cell *matCellDef="let usuario"> {{usuario.name}} </td>
    </ng-container>

    <ng-container matColumnDef="cpf">
      <th mat-header-cell *matHeaderCellDef> cpf </th>
      <td mat-cell *matCellDef="let usuario"> {{usuario.cpf}} </td>
    </ng-container>

    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef> email </th>
      <td mat-cell *matCellDef="let usuario"> {{usuario.email}} </td>
    </ng-container>

    <ng-container matColumnDef="usertype">
      <th mat-header-cell *matHeaderCellDef> User type </th>
      <td mat-cell *matCellDef="let usuario"> {{usuario.userType}} </td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef> AÇÕES </th>
      <mat-cell *matCellDef="let usuario" >
        <button mat-raised-button (click)="exibirFormulario(usuario.userID)" color="primary">Editar</button> | 
        <button mat-raised-button (click)="enviarExclusao(usuario.userID)" color="warn">Apagar</button>
      </mat-cell>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
  </table>
</div>